---
title: 创建B系统1
subtitle: 挂载虚拟硬盘
cover: ../Linux.jpg
---
## 加一块虚拟盘

![image-20220405161945469](image-20220405161945469.png)

![image-20220405162023990](image-20220405162023990.png)

![image-20220405162056848](image-20220405162056848.png)

![image-20220405162119849](image-20220405162119849.png)

![image-20220405162146203](image-20220405162146203.png)

![image-20220405162155862](image-20220405162155862.png)

![image-20220405162239121](image-20220405162239121.png)

![image-20220405162255072](image-20220405162255072.png)

![image-20220405162318516](image-20220405162318516.png)

### 更改固件类型

![image-20220405203151725](image-20220405203151725.png)

![image-20220405203214765](image-20220405203214765.png)

![image-20220405203238960](image-20220405203238960.png)

将固件类型改为UEFI

![image-20220405203338141](image-20220405203338141.png)

确定即可

![image-20220405203403860](image-20220405203403860.png)

## 配置新盘 (分区)

#### 1.打开虚拟机，连接MobaXterm

![image-20220405164208811](image-20220405164208811.png)

#### 2.输入lsblk查看新建设备信息

`lsblk`

![image-20220405164639785](image-20220405164639785.png)

#### 3.用gdisk命令来进行划分盘

#### 	gdisk又叫GPT ，算是fdisk的延伸，主要使用的是GPT分区类型。

### 操作选项

b 将GPT数据备份到一个文件
c 更改分区名称
d 删除一个分区
i 显示分区详细信息
l 列出已知分区类型。此处8200是Linux swap，8300是Linux filesystem（对应fdisk的82和83）。还有一个8e00是Linux LVM
n 增加一个新的分区
o 创建一个新的空白的GPT分区表
p 显示当前磁盘的分区表
q 退出gdisk程序，不保存任何修改
r 恢复和转换选项（仅限专家）
s 排序分区
t 改变分区的类型
v 验证磁盘分区表
w 将分区表写入裁判并退出（保存并退出）
x 额外功能（仅限专家）
? 显示帮助信息



### 具体操作

#### 4.创建空白分区

`sudo gdisk /dev/sdb`

`o`

![image-20220405173004673](image-20220405173004673.png)

#### 5.将分区表写入裁判并退出（保存并退出）

`w`

![image-20220405173054070](image-20220405173054070.png)

#### 6.添加一个新的分区

`sudo gdisk /dev/sdb`

![image-20220405173331877](image-20220405173331877.png)

#### n 回车 回车 回车 +512M  ef00      **（必须是大写的M）**



#### 7.再添加一个新的分区

![image-20220405173620389](image-20220405173620389.png)

#### n 一直回车即可

#### 8.创建完后查看一下是否创建成功

`p`

![image-20220405174218570](image-20220405174218570.png)

#### 9.之后对两个新创建的盘进行命名

`c`

![image-20220405180204726](image-20220405180204726.png)

![image-20220405180414173](image-20220405180414173.png)

#### 1、2代表的是硬盘编号

#### 10.编辑完之后存盘退出

`w`

![image-20220405180512083](image-20220405180512083.png)

#### 11.格式化引导分区

`sudo mkfs.vfat -F32 /dev/sdb1`

![image-20220405181453520](image-20220405181453520.png)

`sudo mkfs.ext4 /dev/sdb2`

![image-20220405181638060](image-20220405181638060.png)

#### 12.创建一个名为usb的目录

`sudo mkdir /mnt/usb`

![image-20220405181758147](image-20220405181758147.png)

#### 13.再创建boot/efi目录

`sudo mkdir /mnt/usb/boot/efi -p`

![image-20220405182144966](image-20220405182144966.png)

#### 14.下载debootstrap

#### 是Twitter推出的一个用于前端开发的开源工具包。它由Twitter的设计师Mark Otto和Jacob Thornton合作开发,是一个CSS/HTML框架。

`sudo apt install debootstrap`

![image-20220405195907260](image-20220405195907260.png)

#### 15.下载arch-install-scripts

`sudo apt install arch-install-scripts`

![image-20220405200522225](image-20220405200522225.png)

#### 16将磁盘挂载到文件夹

`sudo mount /dev/sdb2 /mnt/usb/`

![image-20220405201751108](image-20220405201751108.png)

`sudo mount /dev/sdb1 /mnt/usb/boot/efi/`

![image-20220405201223598](image-20220405201223598.png)

#### 17.查看一下是否挂载成功

`lsblk`

![image-20220405201848254](image-20220405201848254.png)
### [返回目录-Linux初级指导教程](https://nya-wsl.com/Linux初级指导教程/)